<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="539px" preserveAspectRatio="none" style="width:512px;height:539px;background:#FFFFFF;" version="1.1" viewBox="0 0 512 539" width="512px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="254" x="125.25" y="23.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="244" x="130.25" y="43.1113">The Authorization Code Grant Type</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="134.7969" y2="440.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="178" x2="178" y1="134.7969" y2="440.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="381.5" x2="381.5" y1="134.7969" y2="440.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="464.5" x2="464.5" y1="134.7969" y2="440.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="131.7207">User</text><ellipse cx="22.5" cy="65.6875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,73.6875 L22.5,100.6875 M9.5,81.6875 L35.5,81.6875 M22.5,100.6875 L9.5,115.6875 M22.5,100.6875 L35.5,115.6875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="454.4941">User</text><ellipse cx="22.5" cy="466.0703" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,474.0703 L22.5,501.0703 M9.5,482.0703 L35.5,482.0703 M22.5,501.0703 L9.5,516.0703 M22.5,501.0703 L35.5,516.0703 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="137" y="102.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="144" y="123.7207">Application</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="137" y="439.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="144" y="461.4941">Application</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="343.5" y="102.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="350.5" y="123.7207">REST API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="343.5" y="439.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="350.5" y="461.4941">REST API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="429.5" y="102.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="436.5" y="123.7207">Keycloak</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="429.5" y="439.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="436.5" y="461.4941">Keycloak</text><polygon fill="#181818" points="166.5,163.1484,176.5,167.1484,166.5,171.1484,170.5,167.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="22.5" x2="172.5" y1="167.1484" y2="167.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="29.5" y="162.292">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="40.5" y="162.292">Initial action</text><line style="stroke:#181818;stroke-width:1.0;" x1="178.5" x2="220.5" y1="197.5" y2="197.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="220.5" x2="220.5" y1="197.5" y2="210.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="220.5" y1="210.5" y2="210.5"/><polygon fill="#181818" points="189.5,206.5,179.5,210.5,189.5,214.5,185.5,210.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="185.5" y="192.6436">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="196.5" y="192.6436">Generate authorization request</text><polygon fill="#181818" points="33.5,236.8516,23.5,240.8516,33.5,244.8516,29.5,240.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="27.5" x2="177.5" y1="240.8516" y2="240.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="39.5" y="235.9951">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="50.5" y="235.9951">Redirect to Keycloak</text><polygon fill="#181818" points="453,267.2031,463,271.2031,453,275.2031,457,271.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="22.5" x2="459" y1="271.2031" y2="271.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="29.5" y="266.3467">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="40.5" y="266.3467">Send authorization request to Keycloak</text><polygon fill="#181818" points="33.5,297.5547,23.5,301.5547,33.5,305.5547,29.5,301.5547" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="453,297.5547,463,301.5547,453,305.5547,457,301.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="459" y1="301.5547" y2="301.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="39.5" y="296.6982">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="50.5" y="296.6982">Authenticate user</text><polygon fill="#181818" points="33.5,327.9063,23.5,331.9063,33.5,335.9063,29.5,331.9063" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="453,327.9063,463,331.9063,453,335.9063,457,331.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="459" y1="331.9063" y2="331.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="39.5" y="327.0498">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="50.5" y="327.0498">Ask user for conset</text><polygon fill="#181818" points="189.5,358.2578,179.5,362.2578,189.5,366.2578,185.5,362.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="183.5" x2="464" y1="362.2578" y2="362.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195.5" y="357.4014">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="206.5" y="357.4014">Return authorization code</text><polygon fill="#181818" points="189.5,388.6094,179.5,392.6094,189.5,396.6094,185.5,392.6094" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="453,388.6094,463,392.6094,453,396.6094,457,392.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="183.5" x2="459" y1="392.6094" y2="392.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195.5" y="387.7529">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="206.5" y="387.7529">Send token request to Keycloak</text><polygon fill="#181818" points="189.5,418.9609,179.5,422.9609,189.5,426.9609,185.5,422.9609" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="369.5,418.9609,379.5,422.9609,369.5,426.9609,373.5,422.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="183.5" x2="375.5" y1="422.9609" y2="422.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="195.5" y="418.1045">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="206.5" y="418.1045">Invoke REST API</text><rect fill="none" height="12.5781" id="_title" style="stroke:none;stroke-width:1.0;" width="320" x="184.5" y="5"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="320" x="184.5" y="15.3809">Keycloak-Identity-and-Access-Management-for-Modern-Applications</text><rect fill="none" height="12.5781" id="_title" style="stroke:none;stroke-width:1.0;" width="27" x="238.75" y="518.5703"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="27" x="238.75" y="528.9512">1 of 1</text><!--MD5=[db7198b1ac77ab11162917a816873914]
@startuml TheAuthorizationCodeGrantType
    header Keycloak-Identity-and-Access-Management-for-Modern-Applications
    title The Authorization Code Grant Type

    actor "User" as user
    participant "Application" as application
    participant "REST API" as restApi
    participant "Keycloak" as keycloak

    autonumber 1

    user -> application: Initial action
    application -> application: Generate authorization request
    application - -_> user: Redirect to Keycloak
    user -> keycloak: Send authorization request to Keycloak
    keycloak <-> user: Authenticate user
    user <-> keycloak: Ask user for conset
    keycloak - -_> application: Return authorization code
    application <-> keycloak: Send token request to Keycloak
    application <-> restApi: Invoke REST API


    footer %page% of %lastpage%
@enduml

PlantUML version 1.2022.7(Tue Aug 23 00:01:30 ICT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>